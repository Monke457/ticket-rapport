<div th:fragment="checklist" xmlns:th="http://www.w3.org/1999/xhtml" id="checklist">
    <div th:each="item: ${checklist.items}">
        <div class="d-flex justify-content-between align-items-center p-1 gap-2">
            <div class="d-flex flex-column">
                <img class="arrow-btn" th:src="@{/img/caret-up.svg}" alt="up" th:onclick="moveUp(this.parentElement.parentElement.parentElement)">
                <img class="arrow-btn" th:src="@{/img/caret-down.svg}" alt="down" th:onclick="moveDown(this.parentElement.parentElement.parentElement)">
            </div>
            <div class="d-flex gap-2 align-items-center w-100">
                <input class="form-check-input" type="checkbox" th:value="${item.id}" th:checked="${item.completed}" th:onchange="updateHiddenInputs()">
                <input class="form-control" type="text"
                       th:value="${item.description}"
                       th:onkeyup="updateHiddenInputs()"
                       th:classappend="${!item.valid ? 'input-error' : ''}">
            </div>
            <button class="btn btn-sm btn-outline-danger" type="button" th:onclick="remove(this.parentElement.parentElement)">X</button>
        </div>
        <div class="alert alert-warning mt-1 py-2" th:if="${!item.valid}" th:text="${item.error}"></div>
    </div>
    <div id="list-alert" class="alert alert-info m-0 py-2" style="display:none;">There are no items in this checklist</div>
    <button class="btn btn-sm btn-outline-success mt-2" type="button" th:onclick="add(this.parentElement)">Add Item +</button>
</div>