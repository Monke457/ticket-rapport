<div th:fragment="checklist" id="checklist" xmlns:th="http://www.w3.org/1999/xhtml">
    <div class="d-flex justify-content-between align-items-center p-1 gap-2" th:each="item: ${items}" id="${item.id}">
        <div class="d-flex gap-2 align-items-center w-100">
            <input class="form-check-input" th:name="checklistItems" type="checkbox" th:value="${item.id}" th:onchange="updateHiddenInputs()">
            <input class="form-control" type="text" th:name="list_desc" th:value="${item.description}" th:onkeyup="updateHiddenInputs()">
        </div>
        <button class="btn btn-sm btn-outline-danger" type="button" th:onclick="remove(this.parentElement)">X</button>
    </div>
    <button class="btn btn-sm btn-success mt-2" type="button" th:onclick="add(this.parentElement)">Add Item +</button>
</div>