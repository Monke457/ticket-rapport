<div th:fragment="user-form(edit)" xmlns:th="http://www.w3.org/1999/xhtml">
    <div class="mb-3">
        <label class="form-label" th:for="*{firstname}">Firstname</label>
        <input class="form-control" th:field="*{firstname}">
        <div th:replace="~{fragments/forms/error-alert :: error-alert('firstname')}"></div>
    </div>
    <div class="mb-3">
        <label class="form-label" th:for="*{lastname}">Lastname</label>
        <input class="form-control" th:field="*{lastname}">
        <div th:replace="~{fragments/forms/error-alert :: error-alert('lastname')}"></div>
    </div>
    <div class="mb-3">
        <label class="form-label" th:for="*{email}">* Email</label>
        <input class="form-control" th:field="*{email}">
        <div th:replace="~{fragments/forms/error-alert :: error-alert('email')}"></div>
    </div>
    <div class="mb-3">
        <label class="form-label" th:for="*{role}">* Role</label>
        <select class="mb-3 form-select" th:field="*{role.id}">
            <option th:if="*{role.id == null || role.id == ''}" value="null">Select Role</option>
            <option th:each="role: ${roles}" th:value="${role.id}" th:text="${role.description}"></option>
        </select>
        <div class="alert alert-info mt-1" th:if="${edit}">The user must re-log for role changes to take full effect</div>
        <div class="alert alert-warning mt-1" th:if="${#fields.hasErrors('role.id')}">Please select a role</div>
    </div>
</div>
